#!/bin/sh
cat > /app/public/runtime-config.json <<EOF
{
  "NEXT_PUBLIC_AZURE_CLIENT_ID":"${NEXT_PUBLIC_AZURE_CLIENT_ID}",
  "NEXT_PUBLIC_AZURE_APPLICATION_ID":"${NEXT_PUBLIC_AZURE_APPLICATION_ID}",
  "NEXT_PUBLIC_API_URL":"${NEXT_PUBLIC_API_URL}",
  "NEXT_PUBLIC_AZURE_LOGIN_URL":"${NEXT_PUBLIC_AZURE_LOGIN_URL}",
  "ENV":"${ENV}",
  "AUTH_PROVIDER": "${AUTH_PROVIDER:-azure}",
  "KEYCLOAK_URL": "${KEYCLOAK_URL}",
  "KEYCLOAK_REALM": "${KEYCLOAK_REALM:-destiny}",
  "KEYCLOAK_CLIENT_ID": "${KEYCLOAK_CLIENT_ID}"
}
EOF
exec "$@"
